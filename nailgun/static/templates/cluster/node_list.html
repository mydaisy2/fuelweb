<div class="row-fluid node-list-header">
  <h3 class="span8 cluster-name"><%= cluster ? cluster.get('name') : 'Unallocated Nodes' %> (<%= nodes.length %>)</h3>
  <% if (cluster) { %>
    <a class="span2 btn btn-link btn-add-nodes" href="#cluster/<%- cluster.id %>/nodes/add"><i class="icon-plus-circle"></i>Add Nodes</a>
  <% } %>
  <label for="select-nodes-common" class="span<%= cluster ? '2' : '4' %>"><input type="checkbox" name="select-nodes-common" value="" <%= nodes.length ? '' : 'disabled' %> />Select All</label>
  <% if (cluster) { %>
    <div class="cluster-info">
      <% var statuses = {'new': 'New', 'deployment': 'Deploying', 'operational': 'Operational', 'error': 'Error', 'remove': 'Removing'} %>
      <span>Environment status: <%- statuses[cluster.get('status')] %></span>
      <span>Environment release: <%- cluster.get('release').get('name') %></span>
      <% var modes = {multinode: 'Multi-node', ha: 'Multi-node with HA'} %>
      <span>Environment deployment mode: <%- modes[cluster.get('mode')] %></span>
    </div>
  <% } %>
</div>
<% if (!nodes.deferred || nodes.deferred.state() != 'pending') { %>
  <% if (!nodes.length) { %>
    <div class="alert alert-warning"><%= cluster ? 'Current deployment mode restrictions' : 'How to add nodes in Fuel description' %></div>
  <% } %>
  <div class="row-fluid nodes"></div>
<% } else { %>
    <div class="span4"></div>
    <div class="span4">
      <div class="progress progress-striped progress-success active">
        <div class="bar" style="width: 100%"></div>
      </div>
    </div>
<% } %>

